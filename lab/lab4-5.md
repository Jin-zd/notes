### 实验四
每个线程对应矩阵 C 中的一个元素，首先计算该线程负责的元素在矩阵中的位置：
![[Pasted image 20241213213530.png|400]]
接着，遍历矩阵 A 和 B 的相关行列，按照矩阵乘法的规则进行计算，并将结果累加到 pValue 中：
![[Pasted image 20241213213840.png|500]]
最后，每个线程需要将计算得到的结果 pValue 写回到矩阵 C 的相应位置。在 CUDA 中，矩阵 C 是存储在全局内存中的，每个线程必须使用其计算得到的 row 和 col 索引来存储值：
![[Pasted image 20241213213814.png|500]]
测试正确性：
![[4-1.png|400]]
块 block 为 16，测试结果：
![[4-2.png|400]]
块 block 为 32，测试结果：
![[4-3.png|400]]


### 实验五
首先，每个线程负责将矩阵A和矩阵B中的一个元素加载到共享内存中的对应位置，这里在加载时进行边界检查：
![[Pasted image 20241213214502.png|500]]
接着，每个线程通过遍历共享内存中的矩阵元素，计算相应的矩阵C的元素：
![[Pasted image 20241213214549.png|500]]
最后，每个线程将计算结果写回全局内存中的矩阵C：
![[Pasted image 20241213214735.png|500]]
正确性测试：
![[5-1.png|400]]
块 block 大小为 16，测试结果：
![[5-2.png|400]]
块 block 大小为 32，测试结果：
![[5-3.png|400]]